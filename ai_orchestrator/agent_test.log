2025-10-12 20:45:33,799 - googlemaps.client - INFO - API queries_quota: 60
2025-10-12 20:45:33,799 - server.tools.web_search - WARNING - No SEARCH_API_KEY provided, web search will be limited
2025-10-12 20:45:33,799 - server.db_config - INFO - Database config: aws-1-ca-central-1.pooler.supabase.com:5432/postgres
2025-10-12 20:45:34,450 - server.db_config - INFO - Initialized connection pool with 1-1 connections
2025-10-12 20:45:34,451 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-10-12 20:45:34,451 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-10-12 20:45:36,158 - server.tools.postgresql_vector_store - INFO - Loaded sentence transformer model: all-MiniLM-L6-v2
2025-10-12 20:45:36,327 - server.tools.postgresql_vector_store - INFO - Connected to PostgreSQL. Found 25 date ideas in database.
2025-10-12 20:45:36,394 - server.tools.agent_tools - INFO - üéØ AgentToolsManager fully initialized
2025-10-12 20:45:36,394 - __main__ - ERROR - ‚ùå Major error in reasoning agent test: 'AgentToolsManager' object has no attribute 'initialize'
2025-10-12 20:45:36,394 - __main__ - ERROR - ‚ö†Ô∏è  Cleanup error: 'AgentToolsManager' object has no attribute 'cleanup'
2025-10-12 20:45:36,394 - __main__ - ERROR - ‚ùå Test suite failed: 'AgentToolsManager' object has no attribute 'initialize'
2025-10-12 20:46:55,015 - googlemaps.client - INFO - API queries_quota: 60
2025-10-12 20:46:55,015 - server.tools.web_search - WARNING - No SEARCH_API_KEY provided, web search will be limited
2025-10-12 20:46:55,015 - server.db_config - INFO - Database config: aws-1-ca-central-1.pooler.supabase.com:5432/postgres
2025-10-12 20:46:55,390 - server.db_config - INFO - Initialized connection pool with 1-1 connections
2025-10-12 20:46:55,391 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-10-12 20:46:55,391 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-10-12 20:46:57,718 - server.tools.postgresql_vector_store - INFO - Loaded sentence transformer model: all-MiniLM-L6-v2
2025-10-12 20:46:57,895 - server.tools.postgresql_vector_store - INFO - Connected to PostgreSQL. Found 25 date ideas in database.
2025-10-12 20:46:57,970 - server.tools.agent_tools - INFO - üéØ AgentToolsManager fully initialized
2025-10-12 20:46:57,990 - server.tools.chat_context_storage - INFO - ‚úÖ ChatContextStorage initialized
2025-10-12 20:46:57,990 - __main__ - ERROR - ‚ùå Major error in reasoning agent test: 'ChatContextStorage' object has no attribute 'initialize'
2025-10-12 20:46:57,990 - server.tools.chat_context_storage - INFO - üîå Chat context storage connection pool closed
2025-10-12 20:46:57,995 - __main__ - ERROR - ‚ùå Test suite failed: 'ChatContextStorage' object has no attribute 'initialize'
2025-10-12 20:47:29,046 - googlemaps.client - INFO - API queries_quota: 60
2025-10-12 20:47:29,047 - server.tools.web_search - WARNING - No SEARCH_API_KEY provided, web search will be limited
2025-10-12 20:47:29,047 - server.db_config - INFO - Database config: aws-1-ca-central-1.pooler.supabase.com:5432/postgres
2025-10-12 20:47:29,347 - server.db_config - INFO - Initialized connection pool with 1-1 connections
2025-10-12 20:47:29,348 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-10-12 20:47:29,348 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-10-12 20:47:31,416 - server.tools.postgresql_vector_store - INFO - Loaded sentence transformer model: all-MiniLM-L6-v2
2025-10-12 20:47:31,912 - server.tools.postgresql_vector_store - INFO - Connected to PostgreSQL. Found 25 date ideas in database.
2025-10-12 20:47:32,084 - server.tools.agent_tools - INFO - üéØ AgentToolsManager fully initialized
2025-10-12 20:47:32,104 - server.tools.chat_context_storage - INFO - ‚úÖ ChatContextStorage initialized
2025-10-12 20:47:33,497 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_1_20251012_204732: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_1_20251012_204732) is not present in table "chat_sessions".
2025-10-12 20:47:33,498 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:47:33,498 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:47:33,498 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:47:33,498 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:47:33,498 - server.tools.agent_tools - INFO - üîß Executing sequential tool: eventbrite_search
2025-10-12 20:47:33,498 - server.tools.agent_tools - INFO - üîß Trying tool: eventbrite_search
2025-10-12 20:47:33,498 - server.tools.agent_tools - ERROR - ‚ùå Tool eventbrite_search failed: AgentToolsManager.eventbrite_search() got an unexpected keyword argument 'max_budget'
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Trying tool: enhanced_web_search
2025-10-12 20:47:33,499 - server.tools.agent_tools - ERROR - ‚ùå Tool enhanced_web_search failed: AgentToolsManager.enhanced_web_search() got an unexpected keyword argument 'max_budget'
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Executing sequential tool: search_date_ideas
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Trying tool: search_date_ideas
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîç Searching stored dates with args: {'query': 'Find romantic dinner options and evening activities in Ottawa for this weekend', 'city': 'Ottawa', 'max_budget': 200, 'duration': '3-4 hours'}
2025-10-12 20:47:33,499 - server.tools.agent_tools - ERROR - Error searching stored dates: PostgreSQLVectorStore.search() got an unexpected keyword argument 'max_budget'
2025-10-12 20:47:33,499 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool search_date_ideas returned no results
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-12 20:47:33,499 - server.tools.agent_tools - ERROR - ‚ùå Tool search_featured_dates failed: AgentToolsManager.search_featured_dates() got an unexpected keyword argument 'query'
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Executing sequential tool: google_places_search
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:47:33,499 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: Find romantic dinner options and evening activities in Ottawa for this weekend Ottawa near Ottawa
2025-10-12 20:47:33,828 - server.tools.agent_tools - WARNING - Could not geocode location Ottawa: REQUEST_DENIED (This API project is not authorized to use this API.)
2025-10-12 20:47:34,834 - server.tools.agent_tools - WARNING - Could not get place details for ChIJjzK5oM8FzkwR05cxmzUKoX4: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,834 - server.tools.agent_tools - WARNING - Could not get place details for ChIJXaPRGDsFzkwRJtI-mk3XOHI: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,834 - server.tools.agent_tools - WARNING - Could not get place details for ChIJrQOlW6wFzkwRU6k4Ixzy8OE: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJwZ8eVx8FzkwRrpOhIYZ5r3U: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ18gxbGMFzkwRgldLmf77aIo: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJq6rq6KoFzkwRavIC2MmdcQM: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJF-NDXcUFzkwRQSF7rmDJ5nA: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJxUvLZwEFzkwRPTzzT6r7n5M: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJBfs7K28FzkwRMCROEYG8lII: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - WARNING - Could not get place details for ChIJqefG6P8EzkwRJ9ApHPFhJCg: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:34,835 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 10 results
2025-10-12 20:47:34,835 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 1/3 tools successful, 10 total items
2025-10-12 20:47:36,076 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:47:44,959 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_1_20251012_204732: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_1_20251012_204732) is not present in table "chat_sessions".
2025-10-12 20:47:47,453 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_2_20251012_204746: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_2_20251012_204746) is not present in table "chat_sessions".
2025-10-12 20:47:47,453 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:47:47,453 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:47:47,453 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (indoor)
2025-10-12 20:47:47,454 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:47:47,454 - server.tools.agent_tools - INFO - üöÄ Executing 3 tools in parallel
2025-10-12 20:47:47,454 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-12 20:47:47,454 - server.tools.agent_tools - INFO - üåü Searching featured dates with params: {'query': 'featured unique special romantic exclusive', 'top_k': 10, 'city': 'Ottawa', 'categories': ['adventure']}
2025-10-12 20:47:48,362 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-12 20:47:48,404 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool search_featured_dates returned no results
2025-10-12 20:47:48,404 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:47:48,404 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: Plan a perfect date day in Toronto with indoor and outdoor activities for a couple who loves art and food Ottawa near Ottawa
2025-10-12 20:47:48,523 - server.tools.agent_tools - WARNING - Could not geocode location Ottawa: REQUEST_DENIED (This API project is not authorized to use this API.)
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ78iOPmXL1IkRz6hMnhVfTps: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ16NHaqg1K4gR6f7Tk45jzY8: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ758Ch6E0K4gR0JyQtxxHoFA: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJHc6W9iE0K4gR4_4LkdUUq9E: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJoQZGufYzK4gRiWoCrBmuvMw: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ59qQiA4zK4gRtZLNPbcDNuE: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJdTH1AvJfK4gR2ehjlv1kw3s: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJsxk7YljL1IkRqehKLUOWlUM: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJb0iX1f80K4gR4d-teJHDhPA: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,223 - server.tools.agent_tools - WARNING - Could not get place details for ChIJjy6Dvx41K4gR-EnZ_CNE1_E: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:47:49,224 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool google_places_search returned no results
2025-10-12 20:47:49,224 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-12 20:47:49,224 - server.tools.agent_tools - ERROR - ‚ùå Tool search_featured_dates failed: AgentToolsManager.search_featured_dates() got an unexpected keyword argument 'query'
2025-10-12 20:47:49,224 - server.tools.agent_tools - INFO - üîß Trying tool: enhanced_web_search
2025-10-12 20:47:49,224 - server.tools.agent_tools - ERROR - ‚ùå Tool enhanced_web_search failed: AgentToolsManager.enhanced_web_search() got an unexpected keyword argument 'location'
2025-10-12 20:47:49,224 - server.tools.agent_tools - INFO - üîß Trying tool: web_scrape_venue_info
2025-10-12 20:47:49,224 - server.tools.agent_tools - ERROR - ‚ùå Tool web_scrape_venue_info failed: AgentToolsManager.web_scrape_venue_info() got an unexpected keyword argument 'query'
2025-10-12 20:47:49,224 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 0/3 tools successful, 0 total items
2025-10-12 20:47:50,770 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:48:01,463 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_2_20251012_204746: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_2_20251012_204746) is not present in table "chat_sessions".
2025-10-12 20:48:03,604 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_3_20251012_204803: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_3_20251012_204803) is not present in table "chat_sessions".
2025-10-12 20:48:03,605 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:48:03,605 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üîß Executing sequential tool: eventbrite_search
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üîß Trying tool: eventbrite_search
2025-10-12 20:48:03,605 - server.tools.agent_tools - ERROR - ‚ùå Tool eventbrite_search failed: AgentToolsManager.eventbrite_search() got an unexpected keyword argument 'timeframe'
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üîß Trying tool: enhanced_web_search
2025-10-12 20:48:03,605 - server.tools.agent_tools - ERROR - ‚ùå Tool enhanced_web_search failed: AgentToolsManager.enhanced_web_search() got an unexpected keyword argument 'timeframe'
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üîß Executing sequential tool: search_date_ideas
2025-10-12 20:48:03,605 - server.tools.agent_tools - INFO - üîß Trying tool: search_date_ideas
2025-10-12 20:48:03,606 - server.tools.agent_tools - INFO - üîç Searching stored dates with args: {'query': 'What are some unique date ideas for tonight in Vancouver?', 'city': 'Ottawa', 'timeframe': 'tonight', 'preference': 'unique'}
2025-10-12 20:48:03,606 - server.tools.agent_tools - ERROR - Error searching stored dates: PostgreSQLVectorStore.search() got an unexpected keyword argument 'timeframe'
2025-10-12 20:48:03,606 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool search_date_ideas returned no results
2025-10-12 20:48:03,606 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-12 20:48:03,606 - server.tools.agent_tools - ERROR - ‚ùå Tool search_featured_dates failed: AgentToolsManager.search_featured_dates() got an unexpected keyword argument 'query'
2025-10-12 20:48:03,606 - server.tools.agent_tools - INFO - üîß Executing sequential tool: google_places_search
2025-10-12 20:48:03,606 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:48:03,606 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: What are some unique date ideas for tonight in Vancouver? Ottawa near Ottawa
2025-10-12 20:48:03,682 - server.tools.agent_tools - WARNING - Could not geocode location Ottawa: REQUEST_DENIED (This API project is not authorized to use this API.)
2025-10-12 20:48:04,675 - server.tools.agent_tools - WARNING - Could not get place details for ChIJbVR2RjMEzkwRIb7yyRMQQ0k: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,675 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ18gxbGMFzkwRgldLmf77aIo: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,675 - server.tools.agent_tools - WARNING - Could not get place details for ChIJVbD7XbsFzkwRAXrHq0MUcUc: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,675 - server.tools.agent_tools - WARNING - Could not get place details for ChIJozcsADtzhlQRyZU-sYUvk6w: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ-VlvsPdzhlQRVkrLK5hQOpQ: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJNXOP8v0EzkwRRP8LUQxmM3A: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJAe_sqJAFzkwRUydueQDroQw: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJOVIWNndxhlQRSImd0AeAIIQ: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJgf4mdf0EzkwRXT0mVPHMrlI: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - WARNING - Could not get place details for ChIJn4MvQ1AEzkwRdo2vuno6UQA: Valid values for the `fields` param for `place` are 'serves_brunch', 'geometry/viewport/southwest', 'type', 'geometry/location', 'formatted_address', 'review', 'curbside_pickup', 'icon', 'formatted_phone_number', 'serves_dinner', 'geometry/viewport/southwest/lat', 'serves_wine', 'reservable', 'geometry/location/lng', 'user_ratings_total', 'geometry/viewport/northeast/lng', 'delivery', 'rating', 'vicinity', 'photo', 'name', 'geometry/location/lat', 'url', 'international_phone_number', 'reviews', 'utc_offset', 'serves_breakfast', 'price_level', 'wheelchair_accessible_entrance', 'geometry/viewport/northeast', 'website', 'serves_vegetarian_food', 'place_id', 'dine_in', 'permanently_closed', 'secondary_opening_hours', 'geometry/viewport', 'opening_hours', 'adr_address', 'geometry/viewport/southwest/lng', 'serves_lunch', 'current_opening_hours', 'geometry', 'business_status', 'editorial_summary', 'takeout', 'geometry/viewport/northeast/lat', 'serves_beer', 'plus_code', 'address_component', these given field(s) are invalid: 'types', 'photos'
2025-10-12 20:48:04,676 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 7 results
2025-10-12 20:48:04,676 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 1/3 tools successful, 7 total items
2025-10-12 20:48:05,142 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:48:13,119 - server.tools.chat_context_storage - ERROR - Error storing message in session test_session_3_20251012_204803: insert or update on table "chat_messages" violates foreign key constraint "chat_messages_session_id_fkey"
DETAIL:  Key (session_id)=(test_session_3_20251012_204803) is not present in table "chat_sessions".
2025-10-12 20:48:15,121 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (food)
2025-10-12 20:48:15,121 - __main__ - ERROR - ‚ùå Major error in reasoning agent test: 'intent'
2025-10-12 20:48:15,122 - server.tools.chat_context_storage - INFO - üîå Chat context storage connection pool closed
2025-10-12 20:48:15,124 - __main__ - ERROR - ‚ùå Test suite failed: 'intent'
2025-10-12 20:53:20,220 - googlemaps.client - INFO - API queries_quota: 60
2025-10-12 20:53:20,220 - server.tools.web_search - WARNING - No SEARCH_API_KEY provided, web search will be limited
2025-10-12 20:53:20,221 - server.db_config - INFO - Database config: aws-1-ca-central-1.pooler.supabase.com:5432/postgres
2025-10-12 20:53:20,461 - server.db_config - INFO - Initialized connection pool with 1-1 connections
2025-10-12 20:53:20,462 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-10-12 20:53:20,462 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-10-12 20:53:21,402 - server.tools.postgresql_vector_store - INFO - Loaded sentence transformer model: all-MiniLM-L6-v2
2025-10-12 20:53:21,585 - server.tools.postgresql_vector_store - INFO - Connected to PostgreSQL. Found 25 date ideas in database.
2025-10-12 20:53:21,634 - server.tools.agent_tools - INFO - üéØ AgentToolsManager fully initialized
2025-10-12 20:53:21,654 - server.tools.chat_context_storage - INFO - ‚úÖ ChatContextStorage initialized
2025-10-12 20:53:21,889 - server.tools.chat_context_storage - INFO - ‚úÖ Chat session created: test_session_1_20251012_205321
2025-10-12 20:53:21,963 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:53:21,963 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:53:21,963 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:53:21,963 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:53:21,963 - server.tools.agent_tools - INFO - üîß Executing sequential tool: eventbrite_search
2025-10-12 20:53:21,964 - server.tools.agent_tools - INFO - üîß Trying tool: eventbrite_search
2025-10-12 20:53:21,964 - server.tools.agent_tools - INFO - üé´ Eventbrite search: Find romantic dinner options and evening activities in Ottawa for this weekend in None
2025-10-12 20:53:21,964 - server.tools.agent_tools - INFO - üêù ScrapingBee scraping: https://www.eventbrite.com/d/ottawa-on--events/Find-romantic-dinner-options-and-evening-activities-in-Ottawa-for-this-weekend/
2025-10-12 20:53:36,576 - httpx - INFO - HTTP Request: GET https://app.scrapingbee.com/api/v1/?api_key=IU9S5LQYODUBMW6V837Q2DSCPJEICCSGMUEUX8DD5DFY94334AFX3F2EOO6ZASLQI3JVKQUC65SRPN2Z&url=https%3A%2F%2Fwww.eventbrite.com%2Fd%2Fottawa-on--events%2FFind-romantic-dinner-options-and-evening-activities-in-Ottawa-for-this-weekend%2F&render_js=true&premium_proxy=false&country_code=CA&extract_rules=%7B%22title%22%3A+%22title%22%2C+%22meta_description%22%3A+%22meta%5Bname%3D%27description%27%5D%40content%22%2C+%22phone%22%3A+%22a%5Bhref%5E%3D%27tel%3A%27%5D%40href%2C+.phone%2C+.contact-phone%22%2C+%22email%22%3A+%22a%5Bhref%5E%3D%27mailto%3A%27%5D%40href%2C+.email%22%2C+%22address%22%3A+%22.address%2C+.location%2C+.venue-address%22%2C+%22hours%22%3A+%22.hours%2C+.opening-hours%2C+.business-hours%22%2C+%22events%22%3A+%22.event%2C+.upcoming-events%2C+.calendar-event%22%2C+%22prices%22%3A+%22.price%2C+.cost%2C+.fee%2C+.pricing%22%7D "HTTP/1.1 200 OK"
2025-10-12 20:53:36,577 - server.tools.agent_tools - INFO - ‚úÖ Tool eventbrite_search succeeded with 1 results
2025-10-12 20:53:36,577 - server.tools.agent_tools - INFO - üîß Executing sequential tool: search_date_ideas
2025-10-12 20:53:36,577 - server.tools.agent_tools - INFO - üîß Trying tool: search_date_ideas
2025-10-12 20:53:36,577 - server.tools.agent_tools - INFO - üîç Searching stored dates with args: {'query': 'Find romantic dinner options and evening activities in Ottawa for this weekend'}
2025-10-12 20:53:36,976 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-12 20:53:36,996 - server.tools.agent_tools - INFO - ‚úÖ Tool search_date_ideas succeeded with 10 results
2025-10-12 20:53:36,996 - server.tools.agent_tools - INFO - üîß Executing sequential tool: google_places_search
2025-10-12 20:53:36,996 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:53:36,997 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: Find romantic dinner options and evening activities in Ottawa for this weekend Ottawa near None
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJjzK5oM8FzkwR05cxmzUKoX4: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJXaPRGDsFzkwRJtI-mk3XOHI: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJF-NDXcUFzkwRQSF7rmDJ5nA: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJqefG6P8EzkwRJ9ApHPFhJCg: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJH_za1RkEzkwRyEJtP_wiLag: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJOYT646oFzkwRXYZ3MN17vKk: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJbVR2RjMEzkwRIb7yyRMQQ0k: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJBfs7K28FzkwRMCROEYG8lII: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,719 - server.tools.agent_tools - WARNING - Could not get place details for ChIJrQOlW6wFzkwRU6k4Ixzy8OE: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,720 - server.tools.agent_tools - WARNING - Could not get place details for ChIJyURw2mUFzkwRwhep7tnm_nI: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:37,720 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 10 results
2025-10-12 20:53:37,720 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 3/3 tools successful, 21 total items
2025-10-12 20:53:38,391 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:53:50,313 - server.tools.chat_context_storage - INFO - ‚úÖ Chat session created: test_session_2_20251012_205350
2025-10-12 20:53:50,423 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:53:50,423 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:53:50,423 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (indoor)
2025-10-12 20:53:50,423 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:53:50,423 - server.tools.agent_tools - INFO - üöÄ Executing 3 tools in parallel
2025-10-12 20:53:50,424 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-12 20:53:50,424 - server.tools.agent_tools - INFO - üåü Searching featured dates with params: {'query': 'featured unique special romantic exclusive', 'top_k': 10, 'categories': ['adventure']}
2025-10-12 20:53:51,898 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-12 20:53:51,923 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool search_featured_dates returned no results
2025-10-12 20:53:51,923 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:53:51,923 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: Plan a perfect date day in Toronto with indoor and outdoor activities for a couple who loves art and food Ottawa near None
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ16NHaqg1K4gR6f7Tk45jzY8: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ78iOPmXL1IkRz6hMnhVfTps: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJjy6Dvx41K4gR-EnZ_CNE1_E: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ758Ch6E0K4gR0JyQtxxHoFA: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJHc6W9iE0K4gR4_4LkdUUq9E: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJsxk7YljL1IkRqehKLUOWlUM: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJoQZGufYzK4gRiWoCrBmuvMw: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ59qQiA4zK4gRtZLNPbcDNuE: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,978 - server.tools.agent_tools - WARNING - Could not get place details for ChIJdTH1AvJfK4gR2ehjlv1kw3s: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,979 - server.tools.agent_tools - WARNING - Could not get place details for ChIJb0iX1f80K4gR4d-teJHDhPA: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:53:52,979 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 10 results
2025-10-12 20:53:52,979 - server.tools.agent_tools - INFO - üîß Trying tool: web_scrape_venue_info
2025-10-12 20:53:52,979 - server.tools.agent_tools - INFO - üåê Web scraping venue info from: https://example.com
2025-10-12 20:53:53,339 - httpx - INFO - HTTP Request: GET https://example.com "HTTP/1.1 200 OK"
2025-10-12 20:53:53,416 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool web_scrape_venue_info returned no results
2025-10-12 20:53:53,416 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 1/3 tools successful, 10 total items
2025-10-12 20:53:54,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:54:05,533 - server.tools.chat_context_storage - INFO - ‚úÖ Chat session created: test_session_3_20251012_205405
2025-10-12 20:54:05,601 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-12 20:54:05,601 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-12 20:54:05,601 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:54:05,601 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-12 20:54:05,602 - server.tools.agent_tools - INFO - üîß Executing sequential tool: eventbrite_search
2025-10-12 20:54:05,602 - server.tools.agent_tools - INFO - üîß Trying tool: eventbrite_search
2025-10-12 20:54:05,602 - server.tools.agent_tools - INFO - üé´ Eventbrite search: What are some unique date ideas for tonight in Vancouver? in None
2025-10-12 20:54:05,602 - server.tools.agent_tools - INFO - üêù ScrapingBee scraping: https://www.eventbrite.com/d/ottawa-on--events/What-are-some-unique-date-ideas-for-tonight-in-Vancouver?/
2025-10-12 20:54:15,595 - httpx - INFO - HTTP Request: GET https://app.scrapingbee.com/api/v1/?api_key=IU9S5LQYODUBMW6V837Q2DSCPJEICCSGMUEUX8DD5DFY94334AFX3F2EOO6ZASLQI3JVKQUC65SRPN2Z&url=https%3A%2F%2Fwww.eventbrite.com%2Fd%2Fottawa-on--events%2FWhat-are-some-unique-date-ideas-for-tonight-in-Vancouver%3F%2F&render_js=true&premium_proxy=false&country_code=CA&extract_rules=%7B%22title%22%3A+%22title%22%2C+%22meta_description%22%3A+%22meta%5Bname%3D%27description%27%5D%40content%22%2C+%22phone%22%3A+%22a%5Bhref%5E%3D%27tel%3A%27%5D%40href%2C+.phone%2C+.contact-phone%22%2C+%22email%22%3A+%22a%5Bhref%5E%3D%27mailto%3A%27%5D%40href%2C+.email%22%2C+%22address%22%3A+%22.address%2C+.location%2C+.venue-address%22%2C+%22hours%22%3A+%22.hours%2C+.opening-hours%2C+.business-hours%22%2C+%22events%22%3A+%22.event%2C+.upcoming-events%2C+.calendar-event%22%2C+%22prices%22%3A+%22.price%2C+.cost%2C+.fee%2C+.pricing%22%7D "HTTP/1.1 200 OK"
2025-10-12 20:54:15,596 - server.tools.agent_tools - INFO - ‚úÖ Tool eventbrite_search succeeded with 1 results
2025-10-12 20:54:15,596 - server.tools.agent_tools - INFO - üîß Executing sequential tool: search_date_ideas
2025-10-12 20:54:15,596 - server.tools.agent_tools - INFO - üîß Trying tool: search_date_ideas
2025-10-12 20:54:15,596 - server.tools.agent_tools - INFO - üîç Searching stored dates with args: {'query': 'What are some unique date ideas for tonight in Vancouver?'}
2025-10-12 20:54:15,983 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-12 20:54:16,004 - server.tools.agent_tools - INFO - ‚úÖ Tool search_date_ideas succeeded with 10 results
2025-10-12 20:54:16,004 - server.tools.agent_tools - INFO - üîß Executing sequential tool: google_places_search
2025-10-12 20:54:16,004 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-12 20:54:16,004 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: What are some unique date ideas for tonight in Vancouver? Ottawa near None
2025-10-12 20:54:16,687 - server.tools.agent_tools - WARNING - Could not get place details for ChIJbVR2RjMEzkwRIb7yyRMQQ0k: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,687 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ18gxbGMFzkwRgldLmf77aIo: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJVbD7XbsFzkwRAXrHq0MUcUc: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJozcsADtzhlQRyZU-sYUvk6w: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJ-VlvsPdzhlQRVkrLK5hQOpQ: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJNXOP8v0EzkwRRP8LUQxmM3A: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJAe_sqJAFzkwRUydueQDroQw: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJOVIWNndxhlQRSImd0AeAIIQ: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJgf4mdf0EzkwRXT0mVPHMrlI: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - WARNING - Could not get place details for ChIJn4MvQ1AEzkwRdo2vuno6UQA: Valid values for the `fields` param for `place` are 'opening_hours', 'geometry/viewport/southwest/lng', 'takeout', 'url', 'website', 'geometry/viewport/northeast', 'geometry/location', 'delivery', 'serves_brunch', 'serves_lunch', 'name', 'secondary_opening_hours', 'price_level', 'rating', 'utc_offset', 'vicinity', 'geometry/viewport', 'geometry/viewport/northeast/lng', 'international_phone_number', 'current_opening_hours', 'adr_address', 'plus_code', 'serves_wine', 'reviews', 'serves_dinner', 'place_id', 'serves_breakfast', 'serves_vegetarian_food', 'photo', 'serves_beer', 'formatted_address', 'wheelchair_accessible_entrance', 'editorial_summary', 'review', 'icon', 'geometry/location/lng', 'geometry', 'address_component', 'geometry/viewport/southwest/lat', 'dine_in', 'user_ratings_total', 'geometry/location/lat', 'business_status', 'formatted_phone_number', 'curbside_pickup', 'geometry/viewport/northeast/lat', 'reservable', 'geometry/viewport/southwest', 'permanently_closed', 'type', these given field(s) are invalid: 'photos', 'types'
2025-10-12 20:54:16,688 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 10 results
2025-10-12 20:54:16,688 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 3/3 tools successful, 21 total items
2025-10-12 20:54:17,527 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-12 20:54:25,679 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (food)
2025-10-12 20:54:25,679 - server.tools.agent_tools - INFO - üß† Query intent analysis: outdoor_activity (outdoor)
2025-10-12 20:54:25,680 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:54:25,680 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-12 20:54:25,680 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (food)
2025-10-12 20:54:25,680 - server.tools.chat_context_storage - INFO - üîå Chat context storage connection pool closed
2025-10-13 11:53:07,700 - googlemaps.client - INFO - API queries_quota: 60
2025-10-13 11:53:07,700 - server.db_config - INFO - Database config: aws-1-ca-central-1.pooler.supabase.com:5432/postgres
2025-10-13 11:53:07,915 - server.db_config - INFO - Initialized connection pool with 1-1 connections
2025-10-13 11:53:07,917 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-10-13 11:53:07,917 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-10-13 11:53:09,252 - server.tools.postgresql_vector_store - INFO - Loaded sentence transformer model: all-MiniLM-L6-v2
2025-10-13 11:53:09,428 - server.tools.postgresql_vector_store - INFO - Connected to PostgreSQL. Found 25 date ideas in database.
2025-10-13 11:53:09,498 - server.tools.agent_tools - INFO - üéØ AgentToolsManager fully initialized
2025-10-13 11:53:09,519 - server.tools.chat_context_storage - INFO - ‚úÖ ChatContextStorage initialized
2025-10-13 11:53:09,974 - server.tools.chat_context_storage - INFO - ‚úÖ Chat session created: test_session_1_20251013_115309
2025-10-13 11:53:10,141 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-13 11:53:10,141 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üß† Query intent analysis: general (unknown)
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üîß Executing sequential tool: eventbrite_search
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üîß Trying tool: eventbrite_search
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üé´ Eventbrite search: Find romantic dinner options and evening activities in Ottawa for this weekend in None
2025-10-13 11:53:10,141 - server.tools.agent_tools - INFO - üêù ScrapingBee scraping: https://www.eventbrite.com/d/ottawa-on--events/Find-romantic-dinner-options-and-evening-activities-in-Ottawa-for-this-weekend/
2025-10-13 11:53:22,566 - httpx - INFO - HTTP Request: GET https://app.scrapingbee.com/api/v1/?api_key=IU9S5LQYODUBMW6V837Q2DSCPJEICCSGMUEUX8DD5DFY94334AFX3F2EOO6ZASLQI3JVKQUC65SRPN2Z&url=https%3A%2F%2Fwww.eventbrite.com%2Fd%2Fottawa-on--events%2FFind-romantic-dinner-options-and-evening-activities-in-Ottawa-for-this-weekend%2F&render_js=true&wait=2000&premium_proxy=false&country_code=CA&block_resources=false&return_page_source=true "HTTP/1.1 200 OK"
2025-10-13 11:53:23,270 - server.tools.agent_tools - INFO - ‚úÖ ScrapingBee successful for https://www.eventbrite.com/d/ottawa-on--events/Find-romantic-dinner-options-and-evening-activities-in-Ottawa-for-this-weekend/
2025-10-13 11:53:23,381 - server.tools.intelligent_crawler - INFO - ‚ö†Ô∏è Intelligent crawler initialized without SerpAPI - using DuckDuckGo fallback
2025-10-13 11:53:24,051 - server.tools.agent_tools - INFO - ‚úÖ Tool eventbrite_search succeeded with 1 results
2025-10-13 11:53:24,051 - server.tools.agent_tools - INFO - üîß Executing sequential tool: enhanced_web_search
2025-10-13 11:53:24,051 - server.tools.agent_tools - INFO - üîß Trying tool: enhanced_web_search
2025-10-13 11:53:24,051 - server.tools.agent_tools - INFO - üîç Enhanced web search with crawling: 'Find romantic dinner options and evening activities in Ottawa for this weekend' in general, type: general
2025-10-13 11:53:24,052 - server.tools.intelligent_crawler - INFO - üîç Intelligent search: 'Find romantic dinner options and evening activities in Ottawa for this weekend' in Ottawa
2025-10-13 11:53:24,052 - server.tools.intelligent_crawler - WARNING - SerpAPI key not configured, using DuckDuckGo fallback
2025-10-13 11:53:24,055 - server.tools.intelligent_crawler - INFO - üîç DuckDuckGo search (fallback): Find romantic dinner options and evening activities in Ottawa for this weekend Ottawa Ontario Canada
2025-10-13 11:53:25,340 - primp - INFO - response: https://www.bing.com/search?q=Find+romantic+dinner+options+and+evening+activities+in+Ottawa+for+this+weekend+Ottawa+Ontario+Canada 200
2025-10-13 11:53:26,358 - primp - INFO - response: https://www.bing.com/search?q=Find+romantic+dinner+options+and+evening+activities+in+Ottawa+for+this+weekend+Ottawa+Ontario+Canada&first=11&FORM=PERE 200
2025-10-13 11:53:27,379 - primp - INFO - response: https://www.bing.com/search?q=Find+romantic+dinner+options+and+evening+activities+in+Ottawa+for+this+weekend+Ottawa+Ontario+Canada&first=21&FORM=PERE1 200
2025-10-13 11:53:28,385 - primp - INFO - response: https://www.bing.com/search?q=Find+romantic+dinner+options+and+evening+activities+in+Ottawa+for+this+weekend+Ottawa+Ontario+Canada&first=31&FORM=PERE2 200
2025-10-13 11:53:29,570 - primp - INFO - response: https://www.bing.com/search?q=Find+romantic+dinner+options+and+evening+activities+in+Ottawa+for+this+weekend+Ottawa+Ontario+Canada&first=41&FORM=PERE3 200
2025-10-13 11:53:29,813 - server.tools.intelligent_crawler - INFO - DuckDuckGo found 0 results
2025-10-13 11:53:29,813 - server.tools.intelligent_crawler - WARNING - No search results found
2025-10-13 11:53:29,813 - server.tools.agent_tools - WARNING - Intelligent search failed, falling back to basic web search
2025-10-13 11:53:29,813 - server.tools.agent_tools - ERROR - Enhanced web search error: 'WebSearchClient' object has no attribute 'search'
2025-10-13 11:53:29,813 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool enhanced_web_search returned no results
2025-10-13 11:53:29,813 - server.tools.agent_tools - INFO - üîß Executing sequential tool: search_date_ideas
2025-10-13 11:53:29,813 - server.tools.agent_tools - INFO - üîß Trying tool: search_date_ideas
2025-10-13 11:53:29,813 - server.tools.agent_tools - INFO - üîç Searching stored dates with args: {'query': 'Find romantic dinner options and evening activities in Ottawa for this weekend'}
2025-10-13 11:53:30,687 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-13 11:53:30,728 - server.tools.agent_tools - INFO - ‚úÖ Tool search_date_ideas succeeded with 10 results
2025-10-13 11:53:30,728 - server.tools.agent_tools - INFO - ‚úÖ Plan execution complete: 2/3 tools successful, 11 total items
2025-10-13 11:53:31,782 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-13 11:53:45,981 - server.tools.chat_context_storage - INFO - ‚úÖ Chat session created: test_session_2_20251013_115345
2025-10-13 11:53:46,130 - server.llm.enhanced_engine - INFO - üß† Using advanced reasoning agent for complex query
2025-10-13 11:53:46,130 - server.llm.reasoning_agent - INFO - üß† Starting Plan-Execute-Reflect reasoning cycle
2025-10-13 11:53:46,130 - server.tools.agent_tools - INFO - üß† Query intent analysis: dining (indoor)
2025-10-13 11:53:46,130 - server.tools.agent_tools - INFO - üìã Execution plan created: comprehensive strategy with 3 primary tools
2025-10-13 11:53:46,130 - server.tools.agent_tools - INFO - üöÄ Executing 3 tools in parallel
2025-10-13 11:53:46,131 - server.tools.agent_tools - INFO - üîß Trying tool: search_featured_dates
2025-10-13 11:53:46,131 - server.tools.agent_tools - INFO - üåü Searching featured dates with params: {'query': 'featured unique special romantic exclusive', 'top_k': 10, 'categories': ['adventure']}
2025-10-13 11:53:47,141 - server.tools.postgresql_vector_store - INFO - Found 10 results from PostgreSQL simple search
2025-10-13 11:53:47,196 - server.tools.agent_tools - WARNING - ‚ö†Ô∏è Tool search_featured_dates returned no results
2025-10-13 11:53:47,196 - server.tools.agent_tools - INFO - üîß Trying tool: google_places_search
2025-10-13 11:53:47,196 - server.tools.agent_tools - INFO - üó∫Ô∏è Google Places search: Plan a perfect date day in Toronto with indoor and outdoor activities for a couple who loves art and food Ottawa near None
2025-10-13 11:53:50,076 - server.tools.agent_tools - INFO - ‚úÖ Tool google_places_search succeeded with 10 results
2025-10-13 11:53:50,076 - server.tools.agent_tools - INFO - üîß Trying tool: web_scrape_venue_info
2025-10-13 11:53:50,076 - server.tools.agent_tools - INFO - üåê Intelligent web scraping venue info from: https://example.com
